<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BCP Telemetry Client: include/connected_udp_socket.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BCP Telemetry Client
   </div>
   <div id="projectbrief">A C library for BVEX flight computer code to interface with the onboard server.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('connected__udp__socket_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">connected_udp_socket.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for creating connected UDP sockets.  
<a href="#details">More...</a></p>

<p><a href="connected__udp__socket_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad7cb07d67f19e1f050c7fa2903539b9f" id="r_ad7cb07d67f19e1f050c7fa2903539b9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7cb07d67f19e1f050c7fa2903539b9f">connected_udp_socket</a> (const char *node, const char *service)</td></tr>
<tr class="memdesc:ad7cb07d67f19e1f050c7fa2903539b9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes UDP socket, connects to node:service, and returns socket file descriptor.  <br /></td></tr>
<tr class="separator:ad7cb07d67f19e1f050c7fa2903539b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for creating connected UDP sockets. </p>
<p>This header provides a function to create a UDP socket that are connected to a specific endpoint. This should be used to create a socket for the send sample functions in <a class="el" href="send__sample_8h.html" title="API to send sample data to the onboard server.">send_sample.h</a>.</p>
<h3><a class="anchor" id="autotoc_md2"></a>
Example usage</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="connected__udp__socket_8h.html">connected_udp_socket.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div>
<div class="line">    <span class="comment">// Create a UDP socket connected to localhost:8080</span></div>
<div class="line">    <span class="keywordtype">int</span> sockfd = <a class="code hl_function" href="#ad7cb07d67f19e1f050c7fa2903539b9f">connected_udp_socket</a>(<span class="stringliteral">&quot;localhost&quot;</span>, <span class="stringliteral">&quot;8080&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (sockfd == -1) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;Failed to create socket&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Send &quot;Hello, World!&quot; to the connected endpoint</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *msg = <span class="stringliteral">&quot;Hello, World!&quot;</span>;</div>
<div class="line">    ssize_t sent = send(sockfd, msg, strlen(msg), 0);</div>
<div class="line">    <span class="keywordflow">if</span> (sent == -1) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;Failed to send message&quot;</span>);</div>
<div class="line">        close(sockfd);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Clean up</span></div>
<div class="line">    close(sockfd);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aconnected__udp__socket_8h_html"><div class="ttname"><a href="connected__udp__socket_8h.html">connected_udp_socket.h</a></div><div class="ttdoc">Header file for creating connected UDP sockets.</div></div>
<div class="ttc" id="aconnected__udp__socket_8h_html_ad7cb07d67f19e1f050c7fa2903539b9f"><div class="ttname"><a href="#ad7cb07d67f19e1f050c7fa2903539b9f">connected_udp_socket</a></div><div class="ttdeci">int connected_udp_socket(const char *node, const char *service)</div><div class="ttdoc">Makes UDP socket, connects to node:service, and returns socket file descriptor.</div></div>
</div><!-- fragment --> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ad7cb07d67f19e1f050c7fa2903539b9f" name="ad7cb07d67f19e1f050c7fa2903539b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7cb07d67f19e1f050c7fa2903539b9f">&#9670;&#160;</a></span>connected_udp_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connected_udp_socket </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>node</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>service</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes UDP socket, connects to node:service, and returns socket file descriptor. </p>
<p>This function creates a UDP socket, connects it to the specified node and service, and returns the socket file descriptor. The socket is not bound to a specific port, allowing the OS to choose. The socket's endpoint is set to the specified node and service using connect(), allowing you to send data to the same address with send().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>IP address or hostname. </td></tr>
    <tr><td class="paramname">service</td><td>Port number or service name (e.g., "1234" or "http"). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Socket file descriptor on success, or -1 on error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>To close the socket, use close(fd), where fd is the socket's file descriptor. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="gtest_2connected_udp_socket_8cpp-example.html#a0">gtest/connected_udp_socket.cpp</a>, and <a class="el" href="gtest_2send_sample_8cpp-example.html#a0">gtest/send_sample.cpp</a>.</dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="connected__udp__socket_8h.html">connected_udp_socket.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
